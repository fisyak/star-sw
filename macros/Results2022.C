/*

  root.exe Results2022.C+
 */
#if !defined(__CINT__)
// code that should be seen ONLY by the compiler
#else
#if !defined(__CINT__) || defined(__MAKECINT__)
// code that should be seen by the compiler AND rootcint
#else
// code that should always be seen
#endif
#endif
//________________________________________________________________________________
#if !defined(__CINT__) || defined(__MAKECINT__)
#include "Riostream.h"
#include "TROOT.h"
#include "TSystem.h"
#include "TMath.h"
#include "TH1.h"
#include "TStyle.h"
#include "TGraph.h"
#include "TNtuple.h"
#include "TCanvas.h"
#include "TString.h"
#include "TLegend.h"
#include "TFile.h"
#include "THStack.h"
#endif
//#include "IOSectorPar.h"
struct data_t {
  Int_t sector;
  Double_t x, Dx, y, Dy, z, Dz, alpha, Dalpha, beta, Dbeta, gamma, Dgamma;
  const Char_t *Comment;
  void Print() {
    cout << Form("%2i %8.2f %5.2f %8.2f %5.2f %8.2f %5.2f",sector, x, Dx, y, Dy, z, Dz)
	 << Form(" %8.2f %5.2f %8.2f %5.2f %8.2f %5.2f %s", alpha, Dalpha, beta, Dbeta, gamma, Dgamma, Comment) << endl;
  }
};
struct SurveyPass_t {
  Int_t date, time;
  const Char_t *PassName;
  data_t Data[24];
#if 0
  SurveyPass_t &operator=(Int_t d, Int_t t, const Char_t *Pass, data_t data[24]) {
    date = d; time = t; PassName = Pass;
    for (Int_t i = 0; i < 24; i++) Data[i] = data[i];
    return *this;
  }
#endif
  void Print() {
    cout << Form("%8i %6i %s",date,time,PassName) << endl;
    for (Int_t i = 0; i < 24; i++) {
      Data[i].Print();
    }
  }
};
/*
-rw-r--r-- 1 fisyak rhstar 2.6K Jan  1 12:50 /star/u/fisyak/work/Tpc/Alignment/2022/FF/Cosmic/Pass0/IO/Results.IO_IO.h
-rw-r--r-- 1 fisyak rhstar 2.6K Dec 31 23:51 /star/u/fisyak/work/Tpc/Alignment/2022/FF/Cosmic/Pass1/IO/Results.IO_IO.h
-rw-r--r-- 1 fisyak rhstar 2.6K Jan  1 12:45 /star/u/fisyak/work/Tpc/Alignment/2022/RF/Cosmic/Pass0/IO/Results.IO_IO.h
-rw-r--r-- 1 fisyak rhstar 2.6K Dec 31 23:54 /star/u/fisyak/work/Tpc/Alignment/2022/RF/Cosmic/Pass1/IO/Results.IO_IO.h
-rw-r--r-- 1 fisyak rhstar 2.6K Nov 27 08:41 /star/u/fisyak/work/Tpc/Alignment/2022/ZF/Cosmic/Pass0/IO/Results.IO_IO.h
-rw-r--r-- 1 fisyak rhstar 2.6K Dec 31 23:47 /star/u/fisyak/work/Tpc/Alignment/2022/ZF/Cosmic/Pass1/IO/Results.IO_IO.h
*/
const Int_t N = 24;
SurveyPass_t Passes[] = {
  {20211201,  101, "FF Pass0", // 
   {
	{ 1, 525.26, 2.02, -33.18, 7.83,6108.58, 1.22,   0.14, 0.01,   0.00, 0.00,  -2.47, 0.02,"Average "},
	{ 2, -12.61, 9.50,  44.04,14.18,7064.93, 2.31,  -0.19, 0.01,   0.01, 0.01,  -2.99, 0.03,"Average "},
	{ 3, 106.61,50.03,-778.38,99.99,6126.32,37.43,  -0.12, 0.17,   0.12, 0.17,  -2.70, 0.12,"Average "},
	{ 4, 360.14,10.39,  97.51,40.24, 170.55,13.62,  -0.31, 0.03,  -0.05, 0.06,  -3.57, 0.06,"Average "},
	{ 5, 511.54, 1.88, 125.14, 9.25,6158.42, 1.38,  -0.17, 0.01,   0.01, 0.01,  -2.44, 0.02,"Average "},
	{ 6, 402.67, 1.76,  55.73, 7.13,6055.81, 1.00,  -0.06, 0.01,  -0.02, 0.00,  -2.31, 0.02,"Average "},
	{ 7, 271.80, 1.61,  67.21, 7.14,5893.83, 1.08,  -0.05, 0.00,  -0.01, 0.00,  -2.25, 0.02,"Average "},
	{ 8, 508.28, 2.56, -28.51,12.44,5863.40, 1.97,  -0.05, 0.01,  -0.02, 0.01,  -2.00, 0.03,"Average "},
	{ 9,  44.51,77.82,-2578.81,99.99,6285.11,42.27,  -0.69, 0.30,  -0.01, 0.25,  -2.73, 0.14,"Average "},
	{10, 434.75, 7.19,-129.87,21.95, 337.78, 3.63,   0.17, 0.02,   0.02, 0.02,  -1.75, 0.04,"Average "},
	{11, 345.78, 1.87, -43.75, 7.61,6292.98, 1.17,   0.06, 0.01,  -0.02, 0.00,  -1.76, 0.02,"Average "},
	{12, 367.40, 2.44, -59.56, 6.89,6293.65, 1.05,   0.06, 0.00,  -0.01, 0.00,  -2.17, 0.02,"Average "},
	{13, -99.95, 2.08,  41.10, 9.09,6140.14, 1.38,   0.03, 0.01,   0.05, 0.01,  -0.15, 0.02,"Average "},
	{14,-305.98, 2.86, -27.52,16.27, 368.64, 2.31,  -0.00, 0.01,   0.04, 0.01,  -0.63, 0.03,"Average "},
	{15,6888.58,99.99,-2283.05,99.99,6145.23,38.09,   0.25, 0.22,   0.09, 0.21,  -1.76, 0.20,"Average "},
	{16,-111.06, 2.59, 112.01,12.61,6284.78, 1.99,  -0.17, 0.01,  -0.03, 0.01,   0.11, 0.03,"Average "},
	{17, 124.29, 1.57, -35.84, 7.19,6120.14, 1.04,  -0.05, 0.00,  -0.00, 0.00,  -0.46, 0.02,"Average "},
	{18, 120.66, 2.45,  94.40, 8.64,6285.30, 1.41,  -0.08, 0.01,   0.03, 0.01,  -0.24, 0.02,"Average "},
	{19, 216.86, 1.58, 150.43, 7.85,6246.07, 1.22,  -0.08, 0.01,   0.02, 0.00,   0.06, 0.02,"Average "},
	{20, 226.22, 4.48, 173.52,17.12,6272.60, 2.40,  -0.13, 0.01,   0.08, 0.01,   1.36, 0.03,"Average "},
	{21,6962.25,99.99,3821.50,99.99,4144.37,99.99,   0.41, 0.80,  -0.99, 0.64,   4.00, 1.40,"Average "},
	{22,-144.32, 2.91, 151.70,12.33,6251.84, 2.02,   0.03, 0.01,  -0.03, 0.01,  -0.00, 0.03,"Average "},
	{23, 269.28, 1.55, -68.46, 6.56,6327.93, 1.06,   0.16, 0.00,  -0.03, 0.00,   0.60, 0.02,"Average "},
	{24, 108.17,11.73, 286.32,16.07, 400.13, 2.71,   0.03, 0.01,   0.23, 0.01,   0.25, 0.03,"Average "}
   }
  },
  {20211201,  101, "FF Pass1", // 
   {
	{ 1, 182.16, 4.62, -20.80,12.63,-122.59, 2.93,   0.23, 0.01,   0.01, 0.01,   1.02, 0.03,"Average "},
	{ 2, -69.03,10.16, -63.42,29.75,  73.92,10.70,  -0.23, 0.02,  -0.04, 0.02,   1.44, 0.04,"Average "},
	{ 3,-1088.27,99.99,-2219.46,99.99, 929.50,99.99,  -0.29, 0.45,   0.04, 0.32,   1.63, 0.26,"Average "},
	{ 4,-133.71,64.97,2348.65,99.99,  33.18,25.15,   0.16, 0.07,  -0.14, 0.16,   1.90, 0.08,"Average "},
	{ 5,   8.22, 4.30,-200.37,16.09, -60.89, 3.69,   0.01, 0.01,   0.00, 0.01,  53.69, 0.03,"Average "},
	{ 6,  -0.74, 4.09,-232.01,11.77, -94.17, 2.26,   0.16, 0.01,  -0.03, 0.01,   1.34, 0.02,"Average "},
	{ 7,-107.57, 3.15,-152.11,11.95,1250.97, 1.77,   0.12, 0.01,  -0.02, 0.01,   0.94, 0.02,"Average "},
	{ 8, -95.82, 5.36, -93.91,25.95, -97.93, 5.24,  -0.04, 0.02,  -0.00, 0.02,   1.45, 0.03,"Average "},
	{ 9,14075.04,99.99,-1202.65,99.99, 724.87,99.99,   0.02, 0.67,   0.49, 0.62,   0.70, 0.52,"Average "},
	{10, 122.43,11.35, -56.01,52.39,-333.55,10.99,   0.10, 0.05,  -0.08, 0.04,   2.28, 0.06,"Average "},
	{11, -84.31, 3.47, -22.01,12.93, 161.29, 2.01,   0.11, 0.01,  -0.01, 0.01,   1.46, 0.03,"Average "},
	{12, -20.50, 2.60,  -2.68,11.09,-311.30, 1.80,   0.03, 0.01,  -0.01, 0.01,   1.29, 0.02,"Average "},
	{13, 261.92, 3.27, 416.27,15.76, 210.97, 2.99,   0.06, 0.01,   0.03, 0.01,  -0.76, 0.03,"Average "},
	{14,-259.38, 6.86,-148.03,34.67, -74.17, 6.72,  -0.01, 0.02,   0.05, 0.03,  -0.68, 0.05,"Average "},
	{15,6705.97,99.99,-2595.09,99.99,1017.70,99.99,   0.45, 0.51,   0.33, 0.45,  -1.24, 0.84,"Average "},
	{16, 120.69, 5.33, -11.19,26.60,-122.50, 4.12,  -0.06, 0.02,  -0.05, 0.02,  -0.67, 0.04,"Average "},
	{17, 297.89, 5.63,-308.73,11.59,-132.26, 1.60,   0.17, 0.01,  -0.02, 0.01,  -0.40, 0.02,"Average "},
	{18,  95.08, 5.21, -91.34,15.79, 864.63, 2.52,   0.02, 0.01,   0.06, 0.01,  -1.24, 0.03,"Average "},
	{19, 121.97, 4.30,-151.07,13.46,  80.24, 3.28,   0.09, 0.01,   0.01, 0.01,  -0.68, 0.03,"Average "},
	{20,-135.70,13.99,  37.98,39.82,-224.36,14.41,  -0.06, 0.03,   0.10, 0.03,   0.37, 0.05,"Average "},
	{21,5863.40,99.99,3668.29,99.99,-2285.94,99.99,   0.91, 1.76,   1.41, 2.80,   1.72, 7.45,"Average "},
	{22, -53.88, 4.74,-124.62,25.22,-471.88, 3.71,   0.04, 0.02,  -0.06, 0.02,  -0.35, 0.04,"Average "},
	{23, 105.42, 3.17,-146.83,11.06,-408.32, 1.73,   0.13, 0.01,   0.01, 0.01,  -0.52, 0.02,"Average "},
	{24,  26.43,10.50,  14.77,35.56,-174.62, 6.38,   0.09, 0.02,   0.52, 0.05,  -0.67, 0.05,"Average "}
   }
  },
  {20211201,  101, "RF Pass0", // 
   {
	{ 1,  60.44,11.24, 196.77,18.98,6097.93, 3.08,   0.27, 0.01,   0.06, 0.01,  -1.53, 0.04,"Average "},
	{ 2,-156.67,27.66, 218.86,49.42,7126.04, 8.76,  -0.34, 0.03,   0.06, 0.04,  -2.17, 0.07,"Average "},
	{ 3, 989.52,99.99, 189.70,99.99,5774.99,99.99,   0.13, 0.48,  -0.28, 0.78,  -1.83, 0.79,"Average "},
	{ 4, 241.45,12.71,-204.37,96.46, 343.10,17.00,   0.19, 0.05,   0.02, 0.06,  -1.95, 0.07,"Average "},
	{ 5,  64.81, 4.83, 376.78,23.90,6241.84, 3.56,  -0.29, 0.02,   0.07, 0.02,  -1.91, 0.04,"Average "},
	{ 6, 276.23, 4.98, 271.32,16.00,6158.12, 2.29,  -0.09, 0.01,   0.00, 0.01,  -1.98, 0.03,"Average "},
	{ 7, 182.92, 2.76, 292.47,18.49,6027.34, 2.95,   0.04, 0.01,   0.04, 0.01,  -1.66, 0.04,"Average "},
	{ 8, 408.88, 7.89, 152.30,36.86,5965.51, 6.47,   0.16, 0.02,   0.03, 0.03,  -1.57, 0.05,"Average "},
	{ 9,  24.47,99.99,2666.08,99.99,5175.98,99.99,   0.49, 0.63,   0.04, 0.93,  -3.24, 0.81,"Average "},
	{10, 278.12,19.80,-539.30,79.35, 465.29,19.47,   0.29, 0.06,   0.09, 0.06,  -1.71, 0.08,"Average "},
	{11, 372.27, 4.25,  89.15,17.47,6384.00, 2.90,   0.21, 0.01,  -0.03, 0.01,  -1.38, 0.04,"Average "},
	{12, 334.99, 6.32,  88.97,19.15,6374.35, 2.82,   0.12, 0.01,  -0.04, 0.01,  -1.08, 0.04,"Average "},
	{13,-109.34, 3.98,  20.75,19.54,6208.29, 2.95,   0.05, 0.01,   0.07, 0.01,  -0.14, 0.03,"Average "},
	{14,-319.49, 8.56,-270.23,60.88, 473.81,10.98,  -0.07, 0.03,   0.04, 0.05,  -0.80, 0.05,"Average "},
	{15,1547.46,99.99,-324.40,99.99,6798.96,99.99,   0.21, 0.49,  -0.14, 0.72,  -1.33, 1.48,"Average "},
	{16,  14.73, 8.56,  33.89,33.91,6362.56, 4.94,  -0.24, 0.02,  -0.07, 0.02,  -0.18, 0.04,"Average "},
	{17, 196.67, 2.99, -17.82,14.25,6181.08, 2.04,  -0.03, 0.01,  -0.04, 0.01,  -0.74, 0.03,"Average "},
	{18, 207.54, 3.07,  20.00,17.30,6323.82, 2.83,  -0.05, 0.01,  -0.01, 0.01,  -0.10, 0.03,"Average "},
	{19, 276.72, 2.49, 129.61,14.94,6316.64, 2.42,  -0.04, 0.01,   0.01, 0.01,  -0.13, 0.03,"Average "},
	{20, 201.35, 7.97, -94.62,46.87,6346.04, 6.42,   0.07, 0.03,   0.05, 0.03,  -0.44, 0.05,"Average "},
	{21,-8395.53,99.99,6406.77,99.99,8915.79,99.99,  -0.25, 1.06,  -1.64, 1.82, -12.89, 4.36,"Average "},
	{22,-109.68, 5.81, 298.88,30.56,6335.92, 4.38,  -0.10, 0.02,  -0.05, 0.02,  -1.03, 0.05,"Average "},
	{23, 166.13, 5.79, -81.33,12.88,6387.53, 1.98,   0.20, 0.01,  -0.04, 0.01,   0.16, 0.03,"Average "},
	{24,  21.37,11.51, 134.45,40.80, 474.67, 8.38,   0.15, 0.02,   0.43, 0.05,  -0.58, 0.05,"Average "}
   }
  },
  {20211201,  101, "RF Pass1", // 
   {
	{ 1,-168.09, 7.71,  48.91,34.45,-241.93, 5.49,   0.39, 0.02,   0.05, 0.02,  -0.43, 0.06,"Average "},
	{ 2, 701.84,99.99,-739.61,99.99,  25.97,26.72,  -0.41, 0.06,  -0.00, 0.07,   0.08, 0.08,"Average "},
	{ 3,2947.49,99.99,-383.87,99.99,-306.74,99.99,   0.30, 0.60,  -0.67, 1.00,   1.09, 1.60,"Average "},
	{ 4,-1612.87,99.99, 288.13,99.99,  88.97,41.67,  -0.02, 0.09,   0.05, 0.13,  -0.67, 0.11,"Average "},
	{ 5,-130.48,12.19, -91.11,46.40, -77.63, 7.71,  -0.17, 0.03,   0.05, 0.03,  -0.40, 0.06,"Average "},
	{ 6,  -0.70, 6.47,-170.28,26.60,-153.17, 6.01,   0.06, 0.02,  -0.01, 0.02,  -0.69, 0.04,"Average "},
	{ 7,-122.65, 6.20, -14.10,33.77,1208.03, 5.33,   0.08, 0.02,   0.03, 0.02,  -0.25, 0.05,"Average "},
	{ 8,-259.99,18.91,  94.73,90.46,-140.02,16.31,  -0.32, 0.04,  -0.04, 0.05,  -0.43, 0.07,"Average "},
	{ 9,2230.52,99.99,2288.53,99.99,-1491.66,99.99,   1.02, 0.71,   0.41, 1.39,   1.31, 2.20,"Average "},
	{10, 130.91,48.52, 535.48,99.99,-175.56,34.25,   0.21, 0.12,   0.05, 0.12,   0.35, 0.11,"Average "},
	{11,   6.88, 6.36,-118.95,29.79,  65.12, 7.94,   0.06, 0.02,  -0.07, 0.02,  -0.49, 0.04,"Average "},
	{12, 141.17,10.97,-192.42,49.64,-306.54, 8.06,   0.03, 0.03,  -0.08, 0.03,  -0.43, 0.05,"Average "},
	{13,  25.26, 8.39,-123.74,36.04, 275.93, 4.89,  -0.07, 0.02,   0.09, 0.02,  -0.03, 0.05,"Average "},
	{14,-112.93,41.94,      0,-9.99,-119.03,69.17,  -0.12, 0.09,  -0.00, 0.17,   0.17, 0.12,"Average "},
	{15,1923.93,99.99,-582.81,99.99, 353.45,99.99,   0.13, 0.66,  -0.76, 1.38,  -1.65, 2.08,"Average "},
	{16, 113.20,39.22, -19.20,81.57, -98.36,16.24,  -0.24, 0.03,  -0.05, 0.04,  -0.13, 0.06,"Average "},
	{17, 126.10, 6.60,-169.60,24.21,-115.91, 4.43,   0.15, 0.02,  -0.04, 0.01,  -0.46, 0.04,"Average "},
	{18,  87.51, 5.39,-189.42,29.40, 903.84, 4.94,   0.06, 0.02,  -0.01, 0.02,  -0.12, 0.04,"Average "},
	{19,  33.98, 5.66,-106.83,25.96,  46.23, 7.88,   0.04, 0.02,  -0.01, 0.02,   0.22, 0.04,"Average "},
	{20,  61.52,30.44,-222.69,99.99, -36.40,23.11,  -0.07, 0.05,  -0.03, 0.07,  -0.84, 0.07,"Average "},
	{21,-8002.63,99.99,6251.53,99.99,2367.65,99.99,  -0.27, 1.06,  -2.04, 1.86, -11.10, 4.50,"Average "},
	{22, -27.23,34.17, 116.27,61.43,-410.06, 7.76,  -0.05, 0.03,  -0.00, 0.04,  -0.84, 0.06,"Average "},
	{23, -47.43,10.02, -71.60,20.89,-426.34, 3.08,   0.11, 0.01,  -0.03, 0.01,  -0.10, 0.03,"Average "},
	{24, -95.06,26.11, 808.62,99.99, -93.72,26.71,   0.06, 0.04,   0.49, 0.10,  -0.42, 0.07,"Average "}
   }
  },
  {20211201,  101, "ZF Pass0", // 
   {
	{ 1,  59.84, 4.68, 349.77,12.56,5982.66, 1.66,   0.06, 0.01,   0.05, 0.01,  -0.16, 0.04,"Average "},
	{ 2,-272.28,26.94,  41.59,31.32,7003.48, 3.69,  -0.23, 0.03,   0.06, 0.04,  -0.85, 0.07,"Average "},
	{ 3,-4084.31,99.99,   2.21,99.99,5915.27,99.99,   0.73, 0.56,   0.03, 0.61,  -0.58, 0.57,"Average "},
	{ 4,-1695.07,99.99, 621.84,99.99, 101.47,19.89,   0.11, 0.10,   0.21, 0.17,  -0.54, 0.11,"Average "},
	{ 5,  18.34,10.47, 245.12,13.49,6098.43, 1.66,  -0.11, 0.01,   0.01, 0.01,  -0.40, 0.04,"Average "},
	{ 6, 144.82, 6.85, -45.00,10.91,5994.35, 1.23,   0.03, 0.01,   0.01, 0.01,  -0.27, 0.03,"Average "},
	{ 7, -22.97, 8.41,  -6.84,10.75,5804.75, 1.39,   0.06, 0.01,   0.01, 0.01,  -0.14, 0.03,"Average "},
	{ 8, 253.95,14.36,-102.37,26.00,5784.71, 3.19,   0.25, 0.02,   0.01, 0.03,   0.28, 0.06,"Average "},
	{ 9,20969.71,99.99,24906.22,99.99,      0,-9.99,  -0.34, 1.08,  -0.06, 0.70,  -0.47, 0.90,"Average "},
	{10, -24.91,39.86, -23.43,61.79, 264.73, 6.98,   0.26, 0.06,   0.15, 0.04,   0.62, 0.09,"Average "},
	{11, 261.81, 6.95, -61.57,13.25,6211.87, 1.67,   0.19, 0.01,  -0.02, 0.01,   0.01, 0.04,"Average "},
	{12,  76.32, 6.02, -56.63,11.17,6211.14, 1.48,   0.09, 0.01,  -0.06, 0.01,   0.30, 0.03,"Average "},
	{13,-106.39,21.66, 180.75,14.01,6075.86, 1.89,  -0.01, 0.01,   0.02, 0.01,   0.21, 0.04,"Average "},
	{14,-1687.97,99.99, 148.98,35.22, 327.83, 4.40,   0.06, 0.02,   0.23, 0.03,  -1.09, 0.07,"Average "},
	{15,-3045.10,99.99,6911.81,99.99,4853.38,99.99,   0.38, 0.71,   0.14, 0.82,   0.80, 1.51,"Average "},
	{16, -93.48,22.49, 246.52,30.75,6226.81, 3.58,  -0.18, 0.02,  -0.11, 0.03,   0.02, 0.06,"Average "},
	{17, 271.68,12.27, 138.16,11.09,6065.33, 1.35,  -0.08, 0.01,  -0.08, 0.01,  -0.81, 0.03,"Average "},
	{18, 118.75, 6.65,  26.33,16.14,6212.62, 2.30,   0.00, 0.01,   0.19, 0.01,  -0.15, 0.05,"Average "},
	{19, 204.85, 5.82, 189.10,11.42,6192.06, 1.52,  -0.05, 0.01,  -0.02, 0.01,  -0.13, 0.03,"Average "},
	{20,-2019.89,99.99, 443.43,99.99,6269.46,37.20,  -0.20, 0.21,   1.13, 0.38,   0.87, 0.21,"Average "},
	{21,-12314.20,99.99, -56.63,99.99,6151.34,99.99,  -0.08, 1.94,   0.79, 6.80,  -9.39, 6.84,"Average "},
	{22,-236.02,39.07, 325.73,46.68,6209.86, 5.47,   0.10, 0.03,  -0.48, 0.07,  -1.11, 0.09,"Average "},
	{23, 184.45, 5.45, 190.10, 9.87,6276.18, 1.34,   0.04, 0.01,  -0.08, 0.01,   0.42, 0.03,"Average "},
	{24,-440.15,72.38, 389.04,40.65, 391.19, 8.87,  -0.03, 0.03,   0.61, 0.07,  -0.38, 0.07,"Average "}
   }
  },
  {20211201,  101, "ZF Pass1", // 
   {
	{ 1,-1169.91,99.99,1203.79,99.99,-270.09,17.53,   0.42, 0.16,   0.31, 0.27,   1.01, 0.24,"Average "},
	{ 2, 426.63,99.99,  22.24,99.99, 390.27,99.99,  -0.33, 0.32,  -0.30, 0.65,   0.41, 1.03,"Average "},
	{ 3,-3778.96,99.99,-974.24,99.99, 131.41,99.99,  -0.85, 2.79,  -0.90, 6.82,  -1.90, 8.55,"Average "},
	{ 4,-702.68,99.99,  27.84,99.99, -14.34,99.99,   0.11, 0.35,   0.25, 0.68,   0.80, 1.18,"Average "},
	{ 5,-576.30,99.99, -32.01,99.99, -19.94,89.43,  -0.19, 0.19,  -0.11, 0.34,   0.46, 0.23,"Average "},
	{ 6, -33.56,99.99, 149.89,99.99,-165.35,23.36,   0.09, 0.12,  -0.16, 0.16,   1.08, 0.15,"Average "},
	{ 7,-945.61,99.99,  10.67,99.99,1130.86,12.01,   0.01, 0.12,  -0.00, 0.24,   1.20, 0.23,"Average "},
	{ 8,-1246.46,99.99, 386.13,99.99,-419.85,99.99,  -0.01, 0.25,  -0.57, 0.46,   0.01, 0.57,"Average "},
	{ 9,-794.87,99.99,-1982.78,99.99,      0,-9.99,   0.21, 5.86,   1.24, 9.11,   0.34,23.55,"Average "},
	{10,-1533.08,99.99, -42.00,99.99,-299.39,99.99,   0.03, 0.39,   0.44, 0.59,   0.22, 1.11,"Average "},
	{11,-1146.23,99.99, -28.61,99.99,  45.08,33.34,  -0.09, 0.15,  -0.26, 0.27,   0.49, 0.26,"Average "},
	{12,-1471.56,99.99, 123.66,99.99,-387.17,27.09,  -0.04, 0.13,   0.11, 0.18,   0.68, 0.16,"Average "},
	{13,-1109.40,99.99, 129.23,99.99, 161.22,74.31,   0.04, 0.17,   0.27, 0.25,   0.24, 0.24,"Average "},
	{14,-714.64,99.99,-293.27,99.99,-118.79,99.99,   0.04, 0.29,   0.76, 0.54,   0.06, 0.52,"Average "},
	{15,-2713.75,99.99,6653.01,99.99,-1559.47,99.99,   0.91, 2.14,   1.25, 9.55,  -0.84, 8.62,"Average "},
	{16,-3059.15,99.99,-232.24,99.99, -61.87,58.75,   0.17, 0.29,   0.35, 0.53,  -1.63, 0.59,"Average "},
	{17,-609.00,99.99, 300.71,99.99,-288.27,38.34,   0.35, 0.10,  -0.23, 0.21,  -1.05, 0.14,"Average "},
	{18,  51.69,99.99,-166.12,99.99, 803.98,43.18,   0.31, 0.16,  -0.04, 0.25,  -1.44, 0.41,"Average "},
	{19,-140.01,99.99,-264.83,99.99,-120.18,78.60,   0.10, 0.11,   0.00, 0.20,  -1.04, 0.17,"Average "},
	{20,-2355.89,99.99,   9.83,99.99, 211.34,99.99,  -0.25, 0.31,   0.62, 0.52,  -0.99, 0.94,"Average "},
	{21,-11942.84,99.99,-202.60,99.99,-361.67,99.99,  -0.10, 1.93,   0.83, 6.75,  -8.99, 6.84,"Average "},
	{22,-599.77,99.99,-321.47,99.99,-207.98,99.99,  -0.18, 0.23,   0.38, 0.55,  -2.27, 0.66,"Average "},
	{23, 350.58,99.99, 349.90,99.99,-481.32,26.75,   0.32, 0.09,   0.09, 0.17,  -0.25, 0.13,"Average "},
	{24, 251.49,99.99, 128.15,99.99,-288.20,99.99,   0.07, 0.23,   0.02, 0.39,   0.43, 0.62,"Average "}
   }
  }
};
const  Int_t NP = sizeof(Passes)/sizeof(SurveyPass_t);
TCanvas *c1 = 0;
THStack *hs[6];
TLegend *leg[6];
//________________________________________________________________________________
void Results2022(const Char_t *opt="") {
  gStyle->SetMarkerStyle(20);
  gStyle->SetOptStat(0);
  cout << "NP \t" << NP << endl;
  Int_t NH = NP;
  if (NH == 2) NH++; // make average if we have only FF + RF
  TH1D ***dath = new TH1D**[NH]; 
  for (Int_t p = 0; p < NH; p++) {dath[p] = new TH1D*[6]; memset(dath[p],0, 6*sizeof(TH1D*));}
  const Char_t *names[6] = {" #Deltax"," #Deltay"," #Deltaz"," #Delta #alpha"," #Delta #beta"," #Delta #gamma"};
  const Char_t *nameK[6] = {"Dx","Dy","Dz","Da",     "Db",    "Dg"};
  TString Opt(opt);
  for (Int_t i = 0; i < 6; i++) {
    hs[i] = new THStack(nameK[i],names[i]);
    Double_t ymin =  1e10;
    Double_t ymax = -1e10;
    TString Name;
    TString Title;
    if (! i)     leg[i] = new TLegend(0.10,0.65,0.30,0.90);
    else         leg[i] = 0;
    TString same("e");
    Int_t color = 1;
    TH1::SetDefaultSumw2(kTRUE);
    //    for (Int_t k = 0; k < NH; k++) {
    for (Int_t k = 1; k < NH; k +=2) {
      if (k < NP) {
	if (i == 0 && k < NP) Passes[k].Print();
	Name = Form("%s%s",Passes[k].PassName,nameK[i]);
	if (Opt != "" && ! Name.Contains(Opt,TString::kIgnoreCase)) continue;
	Title = Form("Alignment fit for  %s %s",names[i],Passes[k].PassName);
      } else { // Average
	Name = Form("%s%s%s",Passes[0].PassName,Passes[1].PassName,nameK[i]);
	if (Opt != "" && ! Name.Contains(Opt,TString::kIgnoreCase)) continue;
	Title = Form("Alignment fit for %s sum %s %s",names[i],Passes[0].PassName,Passes[1].PassName);
	
      }
      //      cout << Name.Data() << "\t" << Title.Data() << "\ti\t" << i << "\tk\t" << k << endl;
      dath[k][i] = (TH1D *) gDirectory->Get(Name);
      if (dath[k][i]) delete dath[k][i];
      
      dath[k][i] = new TH1D(Name,Title, 24, 0.5, 24.5);
      //      cout << "Create: " << dath[k][i]->GetName() << "\t" << dath[k][i]->GetTitle() << endl;
      dath[k][i]->SetMarkerColor(color);
      dath[k][i]->SetLineColor(color);
      color++;
      dath[k][i]->SetXTitle("sector");
      if (i < 3) dath[k][i]->SetYTitle(Form("%s (#mum)",names[i]));
      else       dath[k][i]->SetYTitle(Form("%s (mrad)",names[i]));
      for (Int_t l = 0; l < 24; l++) {
	Int_t secs;
	Double_t val, err;
	if (k < NP) {
	  Double_t *X = &Passes[k].Data[l].x;
	  secs = Passes[k].Data[l].sector;
	  if (X[2*i+1] >= 0 && X[2*i+1] < 99) {
	    val = X[2*i];
	    err = X[2*i+1];
	  } else {continue;}
	} else {
	  Double_t *X0 = &Passes[0].Data[l].x;
	  Double_t *X1 = &Passes[1].Data[l].x;
	  secs = Passes[0].Data[l].sector;
	  if (X0[2*i+1] >= 0 && X0[2*i+1] < 99 &&
	      X1[2*i+1] >= 0 && X1[2*i+1] < 99) {
	    val = 0.5*(X0[2*i] + X1[2*i]);
	    dath[k][i]->SetBinContent(secs,val);
	    err = TMath::Sqrt(X0[2*i+1]*X0[2*i+1]+X1[2*i+1]*X1[2*i+1])/2;
	  } else {continue;}
	} 
	if (err < 0.001) err = 0.001;
	dath[k][i]->SetBinContent(secs,val);
	dath[k][i]->SetBinError(secs,err);
	if (ymin > val - err) ymin = val - err;
	if (ymax < val + err) ymax = val + err;
      }
      hs[i]->Add(dath[k][i]);
      if (leg[i]) {
	if (k < NP) leg[i]->AddEntry(dath[k][i],Passes[k].PassName);
	else        leg[i]->AddEntry(dath[k][i],"sum");
      }
    }
  }
  c1 = new TCanvas("IO","Tpc Outer to Inner alignment parameters",1200,800);
  c1->Divide(3,2);
  for (Int_t i = 0; i < 6; i++) {
    c1->cd(i+1);
    if (! hs[i]) continue;
    TString same("e");
    Double_t ymax = hs[i]->GetMaximum("nostack");
    Double_t ymin = hs[i]->GetMinimum("nostack");
    TList *list = hs[i]->GetHists();
    TIter next(list);
    TH1 *h = 0;
    while ((h = (TH1*) next())) {
      h->GetYaxis()->SetTitleOffset(1.4);
      if (same == "e") {
	if (ymax > 0)     h->SetMaximum(1.1*ymax);
	else              h->SetMaximum(0.9*ymax);
	if (ymin < 0)     h->SetMinimum(1.1*ymin);
	else              h->SetMinimum(0.9*ymin);
      }
      TString hName(h->GetName());
      if (hName.BeginsWith("db",TString::kIgnoreCase)) h->Draw("same");
      else                                             h->Draw(same);
      same = "same";
    }
    if (leg[i]) leg[i]->Draw();
  }
  c1->Update();
}
