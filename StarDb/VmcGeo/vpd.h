TGeoVolume *vpd() {
#if vpdConfig != 2
TGeoVolume *VPDD = gGeoManager->MakeTube("VPDD",GetMed("VPDD_STANDARD"),6.35,31.27375,23.1775); VPDD->SetTitle("the whole VPPD assembly");
  VPDD->SetVisibility(0);
TGeoVolume *VPBP = gGeoManager->MakeBox("VPBP",GetMed("VPDD_ALUMINIUM"),15.24,0.3175,23.1775); VPBP->SetTitle("the Base Plate");
  VPBP->SetLineColor(5);
  VPBP->SetFillStyle(6);
TGeoVolume *VPBO = gGeoManager->MakeBox("VPBO",GetMed("VPDD_STANDARD"),2.54,1.905,1.905); VPBO->SetTitle("container for the hook");
  VPBO->SetVisibility(0);
TGeoVolume *VPBA = gGeoManager->MakeBox("VPBA",GetMed("VPDD_ALUMINIUM"),2.54,1.905,0.3175); VPBA->SetTitle("the part of the hook that mounts to the front/back plate");
  VPBA->SetLineColor(5);
  VPBA->SetFillStyle(6);
TGeoVolume *VPBB = gGeoManager->MakeBox("VPBB",GetMed("VPDD_ALUMINIUM"),2.54,0.3175,1.5875); VPBB->SetTitle("the part of the hook that mounts to the base plate");
  VPBB->SetLineColor(5);
  VPBB->SetFillStyle(6);
TGeoVolume *VPFA = gGeoManager->MakeBox("VPFA",GetMed("VPDD_POLYSTYREN"),3.31978,4.177025,1.27); VPFA->SetTitle("the central upper part of the frontplate");
  VPFA->SetLineColor(3);
  VPFA->SetFillStyle(6);
TGeoVolume *VPFB = gGeoManager->MakeTrap("VPFB",GetMed("VPDD_POLYSTYREN"),1.27,0,0,2.15011,6.2865,4.177025,25.90472,2.15011,6.2865,4.177025,25.90472); VPFB->SetTitle("the middle upper part of the frontplate");
  VPFB->SetLineColor(3);
  VPFB->SetFillStyle(6);
TGeoVolume *VPFC = gGeoManager->MakeTrap("VPFC",GetMed("VPDD_POLYSTYREN"),1.27,0,0,3.81,2.4765,6.2865,26.56505,3.81,2.4765,6.2865,26.56505); VPFC->SetTitle("the outer upper part of the frontplate");
  VPFC->SetLineColor(3);
  VPFC->SetFillStyle(6);
TGeoVolume *VPFP = gGeoManager->MakeBox("VPFP",GetMed("VPDD_POLYSTYREN"),3.81,12.72921,1.27); VPFP->SetTitle("a single rectangular piece of the frontpanel");
  VPFP->SetLineColor(3);
  VPFP->SetFillStyle(6);
TGeoVolume *VPST = gGeoManager->MakeBox("VPST",GetMed("VPDD_STANDARD"),0.3175,13.61042,26.9875); VPST->SetTitle("the strut  volume");
  VPST->SetVisibility(0);
TGeoVolume *VPSV = gGeoManager->MakeTrap("VPSV",GetMed("VPDD_ALUMINIUM"),23.1775,25,270,2.80258,0.3175,0.3175,0,2.80258,0.3175,0.3175,0); VPSV->SetTitle("the actual strut between front and backplates");
  VPSV->SetLineColor(3);
  VPSV->SetFillStyle(6);
TGeoVolume *VPSW = gGeoManager->MakeTrap("VPSW",GetMed("VPDD_ALUMINIUM"),0.3175,0,0,1.905,1.905,2.80258,13.25632,1.905,1.905,2.80258,13.25632); VPSW->SetTitle("a tiny piece of aluminium that belongs to the strut");
  VPSW->SetLineColor(3);
  VPSW->SetFillStyle(6);
TGeoVolume *VPSC = gGeoManager->MakeBox("VPSC",GetMed("VPDD_STANDARD"),3.81,1.905,1.905); VPSC->SetTitle("a clamp that holds the strut");
  VPSC->SetVisibility(0);
TGeoVolume *VPSA = gGeoManager->MakeBox("VPSA",GetMed("VPDD_ALUMINIUM"),3.4925,1.905,0.3175); VPSA->SetTitle("part of a strut clamp that holds to the frontplate");
  VPSA->SetLineColor(3);
  VPSA->SetFillStyle(6);
TGeoVolume *VPSB = gGeoManager->MakeBox("VPSB",GetMed("VPDD_ALUMINIUM"),0.3175,1.905,1.905); VPSB->SetTitle("part of a strut clamp that holds to the strut");
  VPSB->SetLineColor(3);
  VPSB->SetFillStyle(6);
TGeoVolume *VPBX = gGeoManager->MakeBox("VPBX",GetMed("VPDD_ALUMINIUM"),12.7,2.54,7.62); VPBX->SetTitle("the FEE box");
  VPBX->SetLineColor(2);
TGeoVolume *VPBI = gGeoManager->MakeBox("VPBI",GetMed("VPDD_AIR"),12.3825,2.2225,7.3025); VPBI->SetTitle("the empty space inside of the FEE box");
  VPBI->SetVisibility(0);
  VPBI->SetLineColor(2);
TGeoVolume *VFEE = gGeoManager->MakeBox("VFEE",GetMed("VPDD_G10"),10.15,0.8500000E-01,2.55); VFEE->SetTitle("the FEE inside the box");
  VFEE->SetLineColor(3);
TGeoVolume *VLEM = gGeoManager->MakeBox("VLEM",GetMed("VPDD_G10"),0.43,0.34,1.9); VLEM->SetTitle("a Lemo connector on the FEE boards");
  VLEM->SetLineColor(3);
TGeoVolume *VRNG = gGeoManager->MakeTube("VRNG",GetMed("VPDD_STANDARD"),6.35,17.4625,20.6375); VRNG->SetTitle("a single pVPD Ring or the entire upVPD");
  VRNG->SetVisibility(0);
TGeoVolume *VSEC = gGeoManager->MakeTubs("VSEC",GetMed("VPDD_STANDARD"),6.35,17.4625,20.6375,-60,60); VSEC->SetTitle("one pVPD sector with all stuff inside");
  VSEC->SetLineColor(5);
TGeoVolume *VDET = gGeoManager->MakeTube("VDET",GetMed("VPDD_IRON"),0,3.81,16.51); VDET->SetTitle("a single detector (Radiator+converter and PMT+electroncs)");
  VDET->SetLineColor(7);
TGeoVolume *VDTI = gGeoManager->MakeTube("VDTI",GetMed("VPDD_AIR"),0,2.54,15.494); VDTI->SetTitle("inner part of the single detector");
  VDTI->SetVisibility(0);
  VDTI->SetLineColor(7);
TGeoVolume *VCNV = gGeoManager->MakeTube("VCNV",GetMed("VPDD_LEAD"),0,2.54,1); VCNV->SetTitle("converter layer (radiator included)");
#else /* vpdConfig == 2 */
TGeoVolume *VPDD = gGeoManager->MakeTube("VPDD",GetMed("VPDD_STANDARD"),6.6675,16.51,16); VPDD->SetTitle("the whole VPPD assembly");
  VPDD->SetLineColor(7);
TGeoVolume *VRNG = gGeoManager->MakeTube("VRNG",GetMed("VPDD_STANDARD"),6.6675,16.51,16); VRNG->SetTitle("a single pVPD Ring or the entire upVPD");
  VRNG->SetLineColor(7);
TGeoVolume *VDET = gGeoManager->MakeTube("VDET",GetMed("VPDD_ALUMINIUM"),0,2.54,10.16); VDET->SetTitle("a single detector (Radiator+converter and PMT+electroncs)");
TGeoVolume *VDTI = gGeoManager->MakeTube("VDTI",GetMed("VPDD_AIR"),0,2.413,9.525); VDTI->SetTitle("inner part of the single detector");
TGeoVolume *VCNV = gGeoManager->MakeTube("VCNV",GetMed("VPDD_LEAD"),0,1.905,1); VCNV->SetTitle("converter layer (radiator included)");
#endif /* vpdConfig == 2 */
  VCNV->SetLineColor(2);
#if vpdConfig != 2
TGeoVolume *VRAD = gGeoManager->MakeTube("VRAD",GetMed("VPDD_SENSITIVE"),0,2.54,0.5); VRAD->SetTitle("Cerenkov Radiator layer");
#else /* vpdConfig == 2 */
TGeoVolume *VRAD = gGeoManager->MakeTube("VRAD",GetMed("VPDD_SENSITIVE"),0,1.905,0.5); VRAD->SetTitle("Cerenkov Radiator layer");
#endif /* vpdConfig == 2 */
  VRAD->SetLineColor(3);
#if vpdConfig != 2
TGeoVolume *VPMT = gGeoManager->MakeTube("VPMT",GetMed("VPDD_VACUUM"),0,2.44,3.9); VPMT->SetTitle("the PMT inner volume");
  VPMT->SetLineColor(7);
TGeoVolume *VPCL = gGeoManager->MakeBox("VPCL",GetMed("VPDD_STANDARD"),1.905,1.74625,20.6375); VPCL->SetTitle("the boat clamp");
  VPCL->SetLineColor(6);
TGeoVolume *VPCF = gGeoManager->MakeBox("VPCF",GetMed("VPDD_ALUMINIUM"),1.905,1.74625,0.15875); VPCF->SetTitle("the front plate of the boat clamp");
  VPCF->SetLineColor(6);
  VPCF->SetFillStyle(6);
TGeoVolume *VPCH = gGeoManager->MakeBox("VPCH",GetMed("VPDD_ALUMINIUM"),1.905,0.15875,20.32); VPCH->SetTitle("the horizontal plate of the boat clamp");
  VPCH->SetLineColor(6);
  VPCH->SetFillStyle(6);
TGeoVolume *VPCV = gGeoManager->MakeBox("VPCV",GetMed("VPDD_ALUMINIUM"),0.15875,0.79375,20.32); VPCV->SetTitle("the vertical plate of the boat clamp");
  VPCV->SetLineColor(6);
  VPCV->SetFillStyle(6);
TGeoVolume *VXST = gGeoManager->MakeTube("VXST",GetMed("VPDD_STANDARD"),0,0.3,1); VXST->SetTitle("PMT output cables (just to look nicer)");
  VXST->SetLineColor(7);
TGeoVolume *VSEC_VSE1 = gGeoManager->MakeTubs("VSEC",GetMed("VPDD_STANDARD"),6.35,17.4625,20.6375,-60,60); VSEC_VSE1->SetTitle("one pVPD sector with all stuff inside");
  VSEC_VSE1->SetLineColor(5);
TGeoVolume *VSEC_VSE2 = gGeoManager->MakeTubs("VSEC",GetMed("VPDD_STANDARD"),6.35,17.4625,20.6375,-60,60); VSEC_VSE2->SetTitle("one pVPD sector with all stuff inside");
  VSEC_VSE2->SetLineColor(5);
TGeoVolumeMulti *VPIP = gGeoManager->MakeVolumeMulti("VPIP", GetMed("VPDD_ALUMINIUM")); VPIP->SetTitle("the Long Pipe");
 VPIP->AddVolume(gGeoManager->MakeTube("VPIP",GetMed("VPDD_ALUMINIUM"),0.31,0.34,1));
  VPIP->SetLineColor(7);
   VPDD->AddNode(VPBP,1,new TGeoTranslation(0,-21.9075,0));
   VPDD->AddNode(VPBO,1,new TGeoCombiTrans(11.43,-19.685,18.7325,GetRot("180R")));
    VPBO->AddNode(VPBA,1,new TGeoTranslation(0,0,-1.5875));
    VPBO->AddNode(VPBB,1,new TGeoTranslation(0,-1.5875,0.3175));
   VPDD->AddNode(VPBO,2,new TGeoTranslation(11.43,-19.685,-18.7325));
   VPDD->AddNode(VPBO,3,new TGeoCombiTrans(-11.43,-19.685,18.7325,GetRot("180R")));
   VPDD->AddNode(VPBO,4,new TGeoTranslation(-11.43,-19.685,-18.7325));
   VPDD->AddNode(VPFA,1,new TGeoTranslation(0,12.26439,21.9075));
   VPDD->AddNode(VPFA,2,new TGeoTranslation(0,12.26439,-21.9075));
   VPDD->AddNode(VPFB,1,new TGeoCombiTrans(5.46989,11.20966,21.9075,GetRot("R090")));
   VPDD->AddNode(VPFB,2,new TGeoCombiTrans(5.46989,11.20966,-21.9075,GetRot("R090")));
   VPDD->AddNode(VPFB,3,new TGeoCombiTrans(-5.46989,11.20966,21.9075,GetRot("270D")));
   VPDD->AddNode(VPFB,4,new TGeoCombiTrans(-5.46989,11.20966,-21.9075,GetRot("270D")));
   VPDD->AddNode(VPFC,1,new TGeoCombiTrans(11.43,8.24992,21.9075,GetRot("R090")));
   VPDD->AddNode(VPFC,2,new TGeoCombiTrans(11.43,8.24992,-21.9075,GetRot("R090")));
   VPDD->AddNode(VPFC,3,new TGeoCombiTrans(-11.43,8.24992,21.9075,GetRot("270D")));
   VPDD->AddNode(VPFC,4,new TGeoCombiTrans(-11.43,8.24992,-21.9075,GetRot("270D")));
   VPDD->AddNode(VPFP,1,new TGeoTranslation(11.43,-8.860789,21.9075));
   VPDD->AddNode(VPFP,2,new TGeoTranslation(11.43,-8.860789,-21.9075));
   VPDD->AddNode(VPFP,3,new TGeoTranslation(-11.43,-8.860789,21.9075));
   VPDD->AddNode(VPFP,4,new TGeoTranslation(-11.43,-8.860789,-21.9075));
   VPDD->AddNode(VPST,1,new TGeoTranslation(15.5575,-4.789005,0));
    VPST->AddNode(VPSV,1,gGeoIdentity);
    VPST->AddNode(VPSW,1,new TGeoCombiTrans(0,11.25664,-25.0825,GetRot("C023")));
    VPST->AddNode(VPSW,2,new TGeoCombiTrans(0,-11.25664,25.0825,GetRot("180L")));
   VPDD->AddNode(VPST,2,new TGeoTranslation(-15.5575,-4.789005,0));
   VPDD->AddNode(VPSC,1,new TGeoCombiTrans(11.43,-16.49443,25.0825,GetRot("D270")));
    VPSC->AddNode(VPSA,1,new TGeoTranslation(-0.3175,0,1.5875));
    VPSC->AddNode(VPSB,1,new TGeoTranslation(3.4925,0,0));
   rot = new TGeoRotation("next",90,180,270,270,180,90);
   VPDD->AddNode(VPSC,2,new TGeoCombiTrans(-11.43,-16.49443,25.0825,rot));
   VPDD->AddNode(VPSC,3,new TGeoTranslation(11.43,6.91642,-25.0825));
   VPDD->AddNode(VPSC,4,new TGeoCombiTrans(-11.43,6.91642,-25.0825,GetRot("R180")));
   VPDD->AddNode(VPBX,1,new TGeoTranslation(-2.54,-24.765,0));
    VPBX->AddNode(VPBI,1,gGeoIdentity);
     VPBI->AddNode(VFEE,1,new TGeoTranslation(0.3074998,0.4525,-4.7525));
      VFEE->AddNode(VLEM,1,new TGeoTranslation(-7,0.52,2));
       VLEM->AddNode(VPIP->GetVolume(0),1,new TGeoTranslation(0.8999997E-01,0,0.9));
      VFEE->AddNode(VLEM,2,new TGeoTranslation(-3.5,0.52,2));
      VFEE->AddNode(VLEM,3,new TGeoTranslation(0,0.52,2));
      VFEE->AddNode(VLEM,4,new TGeoTranslation(3.5,0.52,2));
      VFEE->AddNode(VLEM,5,new TGeoCombiTrans(-7,0.52,-2,GetRot("D270")));
      VFEE->AddNode(VLEM,6,new TGeoCombiTrans(-3.5,0.52,-2,GetRot("D270")));
      VFEE->AddNode(VLEM,7,new TGeoCombiTrans(0,0.52,-2,GetRot("D270")));
      VFEE->AddNode(VLEM,8,new TGeoCombiTrans(3.5,0.52,-2,GetRot("D270")));
      VFEE->AddNode(VLEM,9,new TGeoCombiTrans(-6,0.52,-2,GetRot("D270")));
      VFEE->AddNode(VLEM,10,new TGeoCombiTrans(-2.5,0.52,-2,GetRot("D270")));
      VFEE->AddNode(VLEM,11,new TGeoCombiTrans(1,0.52,-2,GetRot("D270")));
      VFEE->AddNode(VLEM,12,new TGeoCombiTrans(4.5,0.52,-2,GetRot("D270")));
#endif /* ! vpdConfig == 2 */
   VPDD->AddNodeOverlap(VRNG,1,gGeoIdentity);
#if vpdConfig != 2
    VRNG->AddNodeOverlap(VSEC,1,GetRot("R090"));
     VSEC->AddNode(VDET,1,new TGeoTranslation(10.16,0,0));
      VDET->AddNode(VDTI,1,new TGeoTranslation(0,0,1.016));
       VDTI->AddNode(VCNV,1,new TGeoTranslation(0,0,-15.51));
#else /* vpdConfig == 2 */
    VRNG->AddNodeOverlap(VDET,1,new TGeoTranslation(6.66556,-7.667849,0));
     VDET->AddNode(VDTI,1,gGeoIdentity);
      VDTI->AddNode(VCNV,1,new TGeoTranslation(0,0,-7.8425));
#endif /* vpdConfig == 2 */
        VCNV->AddNode(VRAD,1,new TGeoTranslation(0,0,0.5));
#if vpdConfig != 2
       VDTI->AddNode(VPMT,1,new TGeoTranslation(0,0,-10.51));
     VSEC->AddNode(VPCL,1,new TGeoTranslation(10.16,-5.209766,0));
      VPCL->AddNode(VPCF,1,new TGeoTranslation(0,0,20.47875));
      VPCL->AddNode(VPCF,2,new TGeoTranslation(0,0,-20.47875));
      VPCL->AddNode(VPCH,1,gGeoIdentity);
      VPCL->AddNode(VPCV,1,new TGeoTranslation(1.74625,-0.9525,0));
      VPCL->AddNode(VPCV,2,new TGeoTranslation(-1.74625,-0.9525,0));
     VSEC->AddNode(VXST,1,new TGeoTranslation(10.56,1.5,17.51));
     VSEC->AddNode(VXST,2,new TGeoTranslation(9.76,-1.5,17.51));
    VRNG->AddNodeOverlap(VSEC_VSE1,2,GetRot("R210"));
     VSEC_VSE1->AddNode(VDET,1,new TGeoTranslation(10.16,0,0));
     VSEC_VSE1->AddNode(VPCL,1,new TGeoTranslation(10.16,-5.209766,0));
     VSEC_VSE1->AddNode(VXST,1,new TGeoTranslation(10.56,1.5,17.51));
     VSEC_VSE1->AddNode(VXST,2,new TGeoTranslation(9.76,-1.5,17.51));
    rot = new TGeoRotation("next",90,330,90,420,0,0);
    VRNG->AddNodeOverlap(VSEC_VSE2,3,rot);
     VSEC_VSE2->AddNode(VDET,1,new TGeoTranslation(10.16,0,0));
     VSEC_VSE2->AddNode(VPCL,1,new TGeoTranslation(10.16,5.209766,0));
     VSEC_VSE2->AddNode(VXST,1,new TGeoTranslation(10.56,1.5,17.51));
     VSEC_VSE2->AddNode(VXST,2,new TGeoTranslation(9.76,-1.5,17.51));
#else /* vpdConfig == 2 */
    VRNG->AddNodeOverlap(VDET,2,new TGeoTranslation(9.662734,-3.139613,0));
    VRNG->AddNodeOverlap(VDET,3,new TGeoTranslation(9.8996,2.285503,0));
    VRNG->AddNodeOverlap(VDET,4,new TGeoTranslation(7.308492,7.057729,0));
    VRNG->AddNodeOverlap(VDET,5,new TGeoTranslation(2.629602,9.813807,0));
    VRNG->AddNodeOverlap(VDET,6,new TGeoTranslation(-2.800476,9.766418,0));
    VRNG->AddNodeOverlap(VDET,7,new TGeoTranslation(-7.430554,6.929103,0));
    VRNG->AddNodeOverlap(VDET,8,new TGeoTranslation(-9.93798,2.112382,0));
    VRNG->AddNodeOverlap(VDET,9,new TGeoTranslation(-9.606469,-3.307771,0));
    VRNG->AddNodeOverlap(VDET,10,new TGeoTranslation(-6.530721,-7.783012,0));
    VRNG->AddNodeOverlap(VDET,11,new TGeoTranslation(11.91414,-7.8858,0));
    VRNG->AddNodeOverlap(VDET,12,new TGeoTranslation(14.2739,-0.623212,0));
    VRNG->AddNodeOverlap(VDET,13,new TGeoTranslation(12.5561,6.817406,0));
    VRNG->AddNodeOverlap(VDET,14,new TGeoTranslation(7.251455,12.31053,0));
    VRNG->AddNodeOverlap(VDET,15,new TGeoTranslation(-0.1246803,14.28696,0));
    VRNG->AddNodeOverlap(VDET,16,new TGeoTranslation(-7.465198,12.1821,0));
    VRNG->AddNodeOverlap(VDET,17,new TGeoTranslation(-12.67317,6.597234,0));
    VRNG->AddNodeOverlap(VDET,18,new TGeoTranslation(-14.26085,-0.8722307,0));
    VRNG->AddNodeOverlap(VDET,19,new TGeoTranslation(-11.7747,-8.092529,0));
#endif /* vpdConfig == 2 */
  return VPDD;
}
